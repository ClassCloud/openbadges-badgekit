{% extends "directory/layout.html" %}
{% block content %}
  <div class="container">
    <h1 class="centered-header">Badge issuing made simple</h1>
    <h2>Get started making a badge:</h2>

    <div class="badges-container clearfix">
      <section class="badge-template left">
        <!-- <img class="badgethumb" src=""> -->
        <div class="badgethumb"></div>
        <h2>ABC Title</h2>
        <p>Status: Template</p>
        <a href="" class="gray-btn view-btn">View</a>
        <a href="" class="gray-btn use-btn">Use</a>
        <a href="" class="gray-btn edit-btn ">Edit</a>
      </section>

      <section class="badge-new">
        <!-- <img class="badgethumb" src=""> -->
        <div class="new-placeholder"><span>+</span></div>
        <h2>Add a New Badge</h2>
        <a href="" class="gray-btn blank-import-btn">Blank</a>
        <a href="" class="gray-btn blank-import-btn">Import</a>
      </section>
    </div>

  </div>

  <h1 class="directoryheader">Badge Directory</h1>
  <h2 class="categories">
    <a {% if category == 'template' %} class="highlighted" {% endif %} href="{{ url('directory') }}?category=template">Templates</a>
    <a {% if category == 'draft' %} class="highlighted" {% endif %} href="{{ url('directory') }}?category=draft">Drafts</a>
    <a {% if category == 'published' %} class="highlighted" {% endif %} href="{{ url('directory') }}?category=published">Published</a>
    <a {% if category == 'archived' %} class="highlighted" {% endif %} href="{{ url('directory') }}?category=archived">Archived</a>
  </h2>
  {% if category == 'template' or category == 'draft' %}
    <p class="addbadge"><a href="{{ url('directory.addBadge') }}?category={{ category }}">Add {{ category | capitalize }}</a></p>
  {% endif %}
  {% for badge in badges %}
    <a class="badgeinfo" href="{{ url('badge', { badgeId: badge.id }) }}">
      <img class="badgethumb" src="{{ badge.image | default(url('badge.image', { badgeId: badge.id })) }}"/>
      <p>{{ badge.name }}</p>
      <p>{{ badge.status | default('active') | capitalize }}</p>
    </a>
  {% endfor %}

  {% if pages > 1 %}
    <div class="pagenav">
      {% if page > 1 %}
        <a href="?category={{ category }}&page={{ page - 1 }}">Previous Page</a>
      {% endif %}
      {% if page < pages %}
        <a href="?category={{ category }}&page={{ page + 1 }}">Next Page</a>
      {% endif %}
    </div>
  {% endif %}

{% endblock %}
